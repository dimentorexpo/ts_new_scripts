var win_TestUsers = // Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ğ¾ĞºĞ½Ğ° Ñ‚ĞµÑÑ‚Ğ¾Ğ²Ñ‹Ñ… Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹
    `<div style="display: flex;">
        <span style="cursor: -webkit-grab;">
            <button id="sidcode" title="ĞŸÑ€Ğ¸ ĞºĞ»Ğ¸ĞºĞµ Ğ›ĞšĞœ Ğ³ĞµĞ½ĞµÑ€Ğ¸Ñ€ÑƒĞµÑ‚ ÑÑÑ‹Ğ»ĞºÑƒ Ğ»Ğ¾Ğ³Ğ¸Ğ½ĞµÑ€ Ğ´Ğ»Ñ Ğ²Ñ…Ğ¾Ğ´Ğ° Ğ² ÑƒÑ‡ĞµÑ‚ĞºÑƒ Ñ Ğ·Ğ°Ñ€Ğ°Ğ½ĞµĞµ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ½Ñ‹Ğ¼ ID Ñ‚ĞµÑÑ‚Ğ¾Ğ²Ğ¾Ğ³Ğ¾ ÑƒÑ‡ĞµĞ½Ğ¸ĞºĞ° Ğ² Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ°Ñ… Ğ¸ ĞºĞ¾Ğ¿Ğ¸Ñ€ÑƒĞµÑ‚ ĞµĞµ Ğ² Ğ±ÑƒÑ„ĞµÑ€ Ğ¾Ğ±Ğ¼ĞµĞ½Ğ°. ĞŸÑ€Ğ¸ ĞºĞ»Ğ¸ĞºĞµ ĞŸĞšĞœ ĞºĞ¾Ğ¿Ğ¸Ñ€ÑƒĞµÑ‚ Ğ² Ğ±ÑƒÑ„ĞµÑ€ Ğ¾Ğ±Ğ¼ĞµĞ½Ğ° ID ÑƒÑ‡ĞµĞ½Ğ¸ĞºĞ°, Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ¿Ñ€Ğ¸Ğ³Ğ¾Ğ´Ğ¸Ñ‚ÑŒÑÑ Ğ² Ğ°Ğ´Ğ¼Ğ¸Ğ½ĞºĞµ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ Ñ‚ĞµÑÑ‚Ğ¾Ğ²Ñ‹Ñ… ÑƒÑ€Ğ¾ĞºĞ¾Ğ²." class="mainButton teststudteach" style="margin-left:2px">ğŸ‘¨â€ğŸ“</button>
            <button id="tidcode" title="ĞŸÑ€Ğ¸ ĞºĞ»Ğ¸ĞºĞµ Ğ›ĞšĞœ Ğ³ĞµĞ½ĞµÑ€Ğ¸Ñ€ÑƒĞµÑ‚ ÑÑÑ‹Ğ»ĞºÑƒ Ğ»Ğ¾Ğ³Ğ¸Ğ½ĞµÑ€ Ğ´Ğ»Ñ Ğ²Ñ…Ğ¾Ğ´Ğ° Ğ² ÑƒÑ‡ĞµÑ‚ĞºÑƒ Ñ Ğ·Ğ°Ñ€Ğ°Ğ½ĞµĞµ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ½Ñ‹Ğ¼ ID Ñ‚ĞµÑÑ‚Ğ¾Ğ²Ğ¾Ğ³Ğ¾ Ğ¿Ñ€ĞµĞ¿Ğ¾Ğ´Ğ°Ğ²Ğ°Ñ‚ĞµĞ»Ñ Ğ² Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ°Ñ… Ğ¸ ĞºĞ¾Ğ¿Ğ¸Ñ€ÑƒĞµÑ‚ ĞµĞµ Ğ² Ğ±ÑƒÑ„ĞµÑ€ Ğ¾Ğ±Ğ¼ĞµĞ½Ğ°. ĞŸÑ€Ğ¸ ĞºĞ»Ğ¸ĞºĞµ ĞŸĞšĞœ ĞºĞ¾Ğ¿Ğ¸Ñ€ÑƒĞµÑ‚ Ğ² Ğ±ÑƒÑ„ĞµÑ€ Ğ¾Ğ±Ğ¼ĞµĞ½Ğ° ID Ğ¿Ñ€ĞµĞ¿Ğ¾Ğ´Ğ°Ğ²Ğ°Ñ‚ĞµĞ»Ñ, Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ¿Ñ€Ğ¸Ğ³Ğ¾Ğ´Ğ¸Ñ‚ÑŒÑÑ Ğ² Ğ°Ğ´Ğ¼Ğ¸Ğ½ĞºĞµ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ Ñ‚ĞµÑÑ‚Ğ¾Ğ²Ñ‹Ñ… ÑƒÑ€Ğ¾ĞºĞ¾Ğ²." class="mainButton teststudteach">ğŸ‘½</button>
            <button id="TestRooms" class="mainButton teststudteach" title="ĞÑ‚ĞºÑ€Ñ‹Ñ‚ÑŒ Ğ¾ĞºĞ½Ğ¾ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ Ñ‚ĞµÑÑ‚Ğ¾Ğ²Ñ‹Ñ… ÑƒÑ€Ğ¾ĞºĞ¾Ğ²">ğŸ²</button>
            <button id="link2lessbtn" class="mainButton teststudteach" title="ĞÑ‚ĞºÑ€Ñ‹Ñ‚ÑŒ Ğ¾ĞºĞ½Ğ¾ Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ñ ÑÑÑ‹Ğ»ĞºĞ¸ Ğ½Ğ° ÑƒÑ€Ğ¾Ğº">ğŸ“Ÿ</button>
            <button class="mainButton" id="pushToTalk" title="ĞĞ°Ğ¶Ğ¼Ğ¸ Ğ¸ ÑÑ€Ğ°Ğ·Ñƒ Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ½Ğ¾ÑĞ¸ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñƒ Ğ´Ğ»Ñ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ñ. Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´: \n 1) Ñ‚Ñƒ - Ğ¾Ñ‚ĞºÑ€Ñ‹Ğ²Ğ°ĞµÑ‚ Ğ°Ğ´Ğ¼Ğ¸Ğ½ĞºÑƒ Ğ´Ğ»Ñ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ Ğ¢Ğ£ Ğ¿Ğ¾ Ğ°Ğ½Ğ³Ğ» ÑĞ·Ñ‹ĞºÑƒ \n 2) Ğ¿Ğ»Ğ°Ñ‚Ñ‘Ğ¶ - Ğ¾Ñ‚ĞºÑ€Ñ‹Ğ²Ğ°ĞµÑ‚ Ğ°Ğ´Ğ¼Ğ¸Ğ½ĞºÑƒ Ğ¿Ğ¾Ğ¸ÑĞºĞ° Ğ¿Ğ»Ğ°Ñ‚ĞµĞ¶Ğ° \n 3) CRM - Ğ¾Ñ‚ĞºÑ€Ñ‹Ğ²Ğ°ĞµÑ‚ CRM Ğ¾Ğ±Ñ€Ğ°Ñ‚Ğ¸Ğ²ÑˆĞµĞ³Ğ¾ÑÑ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ \n 4) Ğ¢Ğ¢ - Ğ¾Ñ‚ĞºÑ€Ñ‹Ğ²Ğ°ĞµÑ‚ Timetable (Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ½Ğ¾ÑĞ¸Ñ‚ÑŒ Ğ»ÑƒÑ‡ÑˆĞµ Ñ‚ÑÑ‚Ñ) \n 5) Ğ°Ğ´Ğ¼Ğ¸Ğ½ĞºĞ° - Ğ¾Ñ‚ĞºÑ€Ñ‹Ğ²Ğ°ĞµÑ‚ Ğ¾Ğ±Ñ‰ÑƒÑ Ğ°Ğ´Ğ¼Ğ¸Ğ½ĞºÑƒ Ğ¿Ğ¾ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ 6) Ñ‚ÑˆÑƒ / Ñ‚ÑˆĞ¿ - Ğ¿Ñ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€ Ğ¢Ğ¨ Ğ¿Ğ¾ Ğ£ Ğ¸Ğ»Ğ¸ ĞŸ ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğµ Ğ¾Ğ±Ñ€Ğ°Ñ‚Ğ¸Ğ»Ğ¸ÑÑŒ \n 7) Ñ‚Ñ€Ğ°Ğ¼Ğ²Ğ°Ğ¹ - Ğ¾Ñ‚ĞºÑ€Ñ‹Ğ²Ğ°ĞµÑ‚ TRM 2.0"" style="cursor: pointer; margin: 5px;">ğŸ¤</button>
            <div id="voicetext" style="color: bisque; width: 110px; text-align: center;"></div>
            <div id="addInfoUser" style="color: white; text-align: center; cursor: -webkit-grab;"></div>
        </span>
    </div>
    `;

if (localStorage.getItem('winTopTestUsers') == null) {
    localStorage.setItem('winTopTestUsers', '120');
    localStorage.setItem('winLeftTestUsers', '295');
}

let TestUsersdiv = document.createElement('div'); // Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµĞ¼ Ğ¾ĞºĞ½Ğ¾ Ñ‚ĞµÑÑ‚Ğ¾Ğ²Ñ‹Ñ… Ğ¿Ğ¾ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹
document.body.append(TestUsersdiv);
TestUsersdiv.style = 'min-height: 20px; max-height: 750px; min-width: 35px; max-width: 370px; background: #464451; top: ' + localStorage.getItem('winTopTestUsers') + 'px; left: ' + localStorage.getItem('winLeftTestUsers') + 'px; font-size: 14px; z-index: 1250000; position: fixed; border: 1px solid rgb(56, 56, 56); color: black;';
TestUsersdiv.setAttribute('id', 'TestUsers');
TestUsersdiv.classList = 'onlyfortp';
TestUsersdiv.innerHTML = win_TestUsers;

document.getElementById('TestRooms').onclick = getTestRoomsButtonPress;
document.getElementById('link2lessbtn').onclick = getlink2lessButtonPress;

setDisplayStyle(TestUsersdiv, localStorage.getItem('disablelpmwindow') === '1' ? 'none' : '');

let addInfoUser = document.getElementById('addInfoUser');

TestUsersdiv.onmousedown = function (event) {
    if (checkelementtype(event)) {
        let startX = event.clientX;
        let startY = event.clientY;
        let elemLeft = TestUsersdiv.offsetLeft;
        let elemTop = TestUsersdiv.offsetTop;

        function onMouseMove(event) {
            let deltaX = event.clientX - startX;
            let deltaY = event.clientY - startY;
            TestUsersdiv.style.left = (elemLeft + deltaX) + "px";
            TestUsersdiv.style.top = (elemTop + deltaY) + "px";
            localStorage.setItem('winTopTestUsers', String(elemTop + deltaY));
            localStorage.setItem('winLeftTestUsers', String(elemLeft + deltaX));
        }

        document.addEventListener('mousemove', onMouseMove);

        function onMouseUp() {
            document.removeEventListener('mousemove', onMouseMove);
            document.removeEventListener('mouseup', onMouseUp);
        }

        document.addEventListener('mouseup', onMouseUp);
    }
};
// Ğ¿Ñ€ĞµĞºÑ€Ğ°Ñ‰ĞµĞ½Ğ¸Ğµ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ Ğ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸Ğ¸ Ğ¾ĞºĞ½Ğ° Ñ‚ĞµÑÑ‚Ğ¾Ğ²Ñ‹Ñ… Ğ¿Ğ¾ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹

let btnsid = document.getElementById('sidcode');
let btntid = document.getElementById('tidcode');
btnsid.addEventListener("click", (event) => {
    let teststudid = localStorage.getItem('test_stud');
    if (teststudid != null && teststudid !== '') {
        document.getElementById('sidcode').classList.add('active');
        chrome.runtime.sendMessage({ action: 'getLoginer', userid: teststudid }, function (response) {
            if (response.success) {
                navigator.clipboard.writeText(response.loginLink).then(() => {
                    document.getElementById('sidcode').classList.remove('active');
                    document.getElementById('sidcode').classList.add('successbtn');
                    setTimeout(function () { document.getElementById('sidcode').classList.remove('successbtn') }, 1000);
                }).catch(err => {
                    // ĞĞ±Ñ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°ĞµĞ¼ Ğ¾ÑˆĞ¸Ğ±ĞºĞ¸, ÑĞ²ÑĞ·Ğ°Ğ½Ğ½Ñ‹Ğµ Ñ Ğ±ÑƒÑ„ĞµÑ€Ğ¾Ğ¼ Ğ¾Ğ±Ğ¼ĞµĞ½Ğ°
                    console.error('ĞĞµ ÑƒĞ´Ğ°Ğ»Ğ¾ÑÑŒ ÑĞºĞ¾Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ñ‚ĞµĞºÑÑ‚: ', err);
                    document.getElementById('sidcode').classList.remove('active');
                    document.getElementById('sidcode').classList.add('errorbtn');
                    setTimeout(function () { document.getElementById('sidcode').classList.remove('errorbtn') }, 1000);
                });
            } else {
                // ĞĞ±Ñ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°ĞµĞ¼ Ğ¾ÑˆĞ¸Ğ±ĞºĞ¸, ÑĞ²ÑĞ·Ğ°Ğ½Ğ½Ñ‹Ğµ Ñ Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸ĞµĞ¼ Ğ»Ğ¾Ğ³Ğ¸Ğ½Ğ½ĞµÑ€Ğ°
                alert('ĞĞµ ÑƒĞ´Ğ°Ğ»Ğ¾ÑÑŒ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ğ»Ğ¾Ğ³Ğ¸Ğ½Ğ½ĞµÑ€: ' + response.error);
                document.getElementById('sidcode').classList.remove('active');
                document.getElementById('sidcode').classList.add('errorbtn');
                setTimeout(function () { document.getElementById('sidcode').classList.remove('errorbtn') }, 1000);
            }
        });
    } else {
        alert("Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ ID Ñ‚ĞµÑÑ‚Ğ¾Ğ²Ğ¾Ğ³Ğ¾ ÑƒÑ‡ĞµĞ½Ğ¸ĞºĞ° Ğ² Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ°Ñ… âš™");
    }
});


btnsid.addEventListener("contextmenu", (event) => { // ĞºĞ¾Ğ¿Ğ¸Ñ€ÑƒĞµÑ‚ Ğ² Ğ±ÑƒÑ„ĞµÑ€ id Ğ£
    event.preventDefault();
    let teststudid = localStorage.getItem('test_stud');
    if (teststudid != null || teststudid != '') {
        copyToClipboard(teststudid)
        document.getElementById('sidcode').classList.add('successbtn');
        setTimeout(function () { document.getElementById('sidcode').classList.remove('successbtn') }, 1000);
    } else alert("Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ ID Ñ‚ĞµÑÑ‚Ğ¾Ğ²Ğ¾Ğ³Ğ¾ ÑƒÑ‡ĞµĞ½Ğ¸ĞºĞ° Ğ² Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ°Ñ… âš™");
});

btntid.addEventListener("click", (event) => { // ĞºĞ¾Ğ¿Ğ¸Ñ€ÑƒĞµÑ‚ Ğ² Ğ±ÑƒÑ„ĞµÑ€ Ğ»Ğ¾Ğ³Ğ¸Ğ½Ğ½ĞµÑ€ Ğ´Ğ»Ñ ĞŸ
    let testteachid = localStorage.getItem('test_teach');
    if (testteachid != null || testteachid != '') {
        document.getElementById('tidcode').classList.add('active');
        chrome.runtime.sendMessage({ action: 'getLoginer', userid: testteachid }, function (response) {
            if (response.success) {
                navigator.clipboard.writeText(response.loginLink).then(() => {
                    document.getElementById('tidcode').classList.remove('active');
                    document.getElementById('tidcode').classList.add('successbtn');
                    setTimeout(function () { document.getElementById('tidcode').classList.remove('successbtn') }, 1000);
                }).catch(err => {
                    // ĞĞ±Ñ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°ĞµĞ¼ Ğ¾ÑˆĞ¸Ğ±ĞºĞ¸, ÑĞ²ÑĞ·Ğ°Ğ½Ğ½Ñ‹Ğµ Ñ Ğ±ÑƒÑ„ĞµÑ€Ğ¾Ğ¼ Ğ¾Ğ±Ğ¼ĞµĞ½Ğ°
                    console.error('ĞĞµ ÑƒĞ´Ğ°Ğ»Ğ¾ÑÑŒ ÑĞºĞ¾Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ñ‚ĞµĞºÑÑ‚: ', err);
                    document.getElementById('tidcode').classList.remove('active');
                    document.getElementById('tidcode').classList.add('errorbtn');
                    setTimeout(function () { document.getElementById('tidcode').classList.remove('errorbtn') }, 1000);
                });
            } else {
                // ĞĞ±Ñ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°ĞµĞ¼ Ğ¾ÑˆĞ¸Ğ±ĞºĞ¸, ÑĞ²ÑĞ·Ğ°Ğ½Ğ½Ñ‹Ğµ Ñ Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸ĞµĞ¼ Ğ»Ğ¾Ğ³Ğ¸Ğ½Ğ½ĞµÑ€Ğ°
                alert('ĞĞµ ÑƒĞ´Ğ°Ğ»Ğ¾ÑÑŒ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ğ»Ğ¾Ğ³Ğ¸Ğ½Ğ½ĞµÑ€: ' + response.error);
                document.getElementById('tidcode').classList.remove('active');
                document.getElementById('tidcode').classList.add('errorbtn');
                setTimeout(function () { document.getElementById('tidcode').classList.remove('errorbtn') }, 1000);
            }
        });

    } else alert("Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ ID Ñ‚ĞµÑÑ‚Ğ¾Ğ²Ğ¾Ğ³Ğ¾ Ğ¿Ñ€ĞµĞ¿Ğ¾Ğ´Ğ°Ğ²Ğ°Ñ‚ĞµĞ»Ñ Ğ² Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ°Ñ… âš™");
});

btntid.addEventListener("contextmenu", (event) => { // ĞºĞ¾Ğ¿Ğ¸Ñ€ÑƒĞµÑ‚ Ğ² Ğ±ÑƒÑ„ĞµÑ€ id ĞŸ
    event.preventDefault();
    let testteachid = localStorage.getItem('test_teach');
    if (testteachid != null || testteachid != '') {
        copyToClipboard(testteachid)
        document.getElementById('tidcode').classList.add('successbtn');
        setTimeout(function () { document.getElementById('tidcode').classList.remove('successbtn') }, 1000);
    } else alert("Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ ID Ñ‚ĞµÑÑ‚Ğ¾Ğ²Ğ¾Ğ³Ğ¾ Ğ¿Ñ€ĞµĞ¿Ğ¾Ğ´Ğ°Ğ²Ğ°Ñ‚ĞµĞ»Ñ Ğ² Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ°Ñ… âš™");
});
